<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="MatrizFraccionesEstiloLinea" language="groovy" pageWidth="792" pageHeight="612" orientation="Landscape" columnWidth="768" leftMargin="12" rightMargin="12" topMargin="12" bottomMargin="12" uuid="30078ee2-aa69-41c3-b089-7774d6afb523">
	<property name="ireport.zoom" value="1.4641000000000008"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<parameter name="empresa" class="java.lang.String"/>
	<parameter name="logo" class="java.lang.String"/>
	<parameter name="linea" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
cast(D.Clave as signed) AS ClaveDepto ,
concat(F.Clave,' - ',F.Descripcion) AS NombreFraccion,
concat(D.Clave,' - ',D.Descripcion) AS DescDepto,
E.Clave AS Estilo,
cast(FXE.CostoMO as decimal(6,2)) AS CostoMO
from fraccionesxestilo FXE
join estilos E ON FXE.Estilo = E.Clave
join fracciones F ON F.Clave = FXE.Fraccion
join Departamentos D on D.Clave = F.Departamento
where E.Linea = $P{linea}
order by ClaveDepto ASC, NombreFraccion ASC]]>
	</queryString>
	<field name="ClaveDepto" class="java.lang.Long"/>
	<field name="NombreFraccion" class="java.lang.String"/>
	<field name="DescDepto" class="java.lang.String"/>
	<field name="Estilo" class="java.lang.String"/>
	<field name="CostoMO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="59">
			<line>
				<reportElement x="2" y="55" width="766" height="1" uuid="e2c8fdc6-9445-4252-ae72-a96a58bcf55e"/>
			</line>
			<staticText>
				<reportElement x="84" y="16" width="205" height="14" uuid="660afdd6-47c1-40fe-aa49-8f0f7ee738f2"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Matriz fracciones estilo de la linea]]></text>
			</staticText>
			<textField>
				<reportElement x="84" y="0" width="225" height="16" uuid="acf1674d-8383-4182-83a8-ad3cf9bb07b9"/>
				<textElement>
					<font size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{empresa}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="753" y="3" width="15" height="12" uuid="9564d570-f4af-4b3a-bc73-1a39ce64dd69"/>
				<textElement textAlignment="Left">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEE, d MMM yyyy HH:mm:ss">
				<reportElement x="629" y="15" width="139" height="12" uuid="f87076c2-ccc5-4d14-ab98-47d775e84bfb"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="672" y="3" width="80" height="12" uuid="e79e7db9-b308-43e2-bbe6-2c01c9007f6e"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Pag. "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="111" y="43" width="657" height="12" backcolor="#CCCCCC" uuid="1bd2dec2-21c6-4713-940b-8a8695955081"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[FRACCIONES Y PRECIOS]]></text>
			</staticText>
			<image>
				<reportElement x="2" y="2" width="72" height="42" uuid="081844f8-8ac6-4d18-88e3-8e7eec18f17c"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
		</band>
	</columnHeader>
	<summary>
		<band height="52" splitType="Stretch">
			<crosstab>
				<reportElement x="0" y="0" width="768" height="52" uuid="43c7211f-c41d-4bff-bfb9-98f4fe982b67"/>
				<rowGroup name="DescDepto" width="115" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{DescDepto}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#FFFFFF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="115" height="25" uuid="2526e3ac-15bf-435d-a759-d14c9464dcf5"/>
								<textElement textAlignment="Left" verticalAlignment="Middle">
									<font size="7" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{DescDepto}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#005FB3" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="179" height="10" forecolor="#FFFFFF" uuid="1fb32da4-6584-4e2e-83fc-2c9f8fa3dcb2"/>
								<textElement verticalAlignment="Middle">
									<font size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Total General]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="NombreFraccion" width="119" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{NombreFraccion}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#FFFFFF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="119" height="12" uuid="6b6ad7e2-a07e-475c-a35b-dfa5de8851d1"/>
								<textElement textAlignment="Left" verticalAlignment="Middle">
									<font size="7" isBold="false"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{NombreFraccion}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#EAE9E9" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="119" height="13" uuid="cda78a85-834d-43ad-8537-d4934dc0a34a"/>
								<textElement verticalAlignment="Middle">
									<font size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Total por Depto]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="Estilo" height="13" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{Estilo}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#FFFFFF" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Crosstab Data Text" x="0" y="0" width="28" height="13" uuid="76166b21-380b-4300-bc69-3592cdb94595"/>
								<textElement verticalAlignment="Middle">
									<font size="7" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{Estilo}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents backcolor="#EAE9E9" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement x="0" y="0" width="27" height="13" uuid="e5cc8c8e-85bb-4c64-bdcf-b75eae49e184"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font size="7" isBold="true"/>
								</textElement>
								<text><![CDATA[Total]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="CostoMOMeasure" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{CostoMO}]]></measureExpression>
				</measure>
				<crosstabCell width="28" height="12">
					<cellContents>
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="28" height="12" uuid="de4ccd06-a25f-4993-ac70-772b7d91bcfd"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="7"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{CostoMOMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="28" height="10" rowTotalGroup="DescDepto">
					<cellContents backcolor="#005FB3" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="28" height="10" forecolor="#FFFFFF" uuid="2e5e6308-7ea3-4e39-80c6-af5d0f600956"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="7" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{CostoMOMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="27" height="12" columnTotalGroup="Estilo">
					<cellContents backcolor="#EAE9E9" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="27" height="12" uuid="90465cf2-7d38-4938-8cba-5e76bec09fac"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="7" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{CostoMOMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="27" height="10" rowTotalGroup="DescDepto" columnTotalGroup="Estilo">
					<cellContents backcolor="#005FB3" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="27" height="10" forecolor="#FFFFFF" uuid="f4335121-cee4-41c7-9804-db10ebc4925f"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="7" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{CostoMOMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="28" height="13" rowTotalGroup="NombreFraccion">
					<cellContents backcolor="#EAE9E9" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="28" height="13" uuid="a81025e5-e3e1-46a4-aacb-528efe42d6f7"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="7" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{CostoMOMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="27" height="13" rowTotalGroup="NombreFraccion" columnTotalGroup="Estilo">
					<cellContents backcolor="#EAE9E9" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="27" height="13" uuid="bcfcf265-cf7b-4d88-92ac-74ab41264054"/>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="7" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{CostoMOMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
		</band>
	</summary>
</jasperReport>

<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="relacionCoreHiloTejido" language="groovy" pageWidth="612" pageHeight="792" columnWidth="588" leftMargin="12" rightMargin="12" topMargin="12" bottomMargin="12" uuid="940b7624-42a9-4970-8b76-59c4ab579c3b">
	<property name="ireport.zoom" value="1.8433187801425646"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" forecolor="#FFFFFF" fontName="Arial" fontSize="26" isBold="true" pdfFontName="Helvetica-Bold"/>
	<style name="SubTitle" forecolor="#666666" fontName="Arial" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="Arial" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="Arial" fontSize="12"/>
	<parameter name="logo" class="java.lang.String"/>
	<parameter name="empresa" class="java.lang.String"/>
	<parameter name="fechaIni" class="java.lang.String"/>
	<parameter name="fechaFin" class="java.lang.String"/>
	<queryString>
		<![CDATA[select
CONCAT(ifnull(U.Nombre,''),' ',ifnull(U.Apellidos,'')) AS Nombre,
CP.Control,
CAST(CT.Pares AS DECIMAL(4,0)) AS Pares
from calidadproduccion CP
INNER JOIN controles CT ON CT.Control = CP.Control
INNER JOIN usuarios U ON U.Usuario = CP.Usuario
WHERE
STR_TO_DATE(CP.Fecha, "%d/%m/%Y") BETWEEN STR_TO_DATE($P{fechaIni}, "%d/%m/%Y") AND STR_TO_DATE($P{fechaFin},"%d/%m/%Y")
ORDER BY U.Nombre ASC, CP.Control ASC]]>
	</queryString>
	<field name="Nombre" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="Control" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="Pares" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="Pares_1" class="java.math.BigDecimal" resetType="Group" resetGroup="Inspector" calculation="Sum">
		<variableExpression><![CDATA[$F{Pares}]]></variableExpression>
	</variable>
	<variable name="Pares_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{Pares}]]></variableExpression>
	</variable>
	<group name="Inspector">
		<groupExpression><![CDATA[$F{Nombre}]]></groupExpression>
		<groupHeader>
			<band height="14">
				<staticText>
					<reportElement x="1" y="0" width="44" height="12" uuid="008afd3a-2702-440d-9b5e-9a8a7e2cc7fa"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Inspector:]]></text>
				</staticText>
				<textField>
					<reportElement x="45" y="0" width="175" height="12" uuid="22bfed9a-b932-4aeb-bdad-08c252ccbeb5"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{Nombre}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="4" y="12" width="216" height="1" uuid="53cd9b1d-e0a0-48b5-8272-9b42e6013fd2"/>
					<graphicElement>
						<pen lineWidth="1.5"/>
					</graphicElement>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="13">
				<staticText>
					<reportElement style="Column header" x="114" y="0" width="106" height="12" forecolor="#000000" uuid="f3ae3ad9-eaf7-4a0d-a877-e6c6a5629230"/>
					<textElement verticalAlignment="Middle">
						<font fontName="SansSerif" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Total pares por Inspector:]]></text>
				</staticText>
				<textField>
					<reportElement x="237" y="0" width="33" height="12" uuid="4cd4c5e8-b854-477b-bd2d-f15e1276a494"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{Pares_1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="58" splitType="Stretch">
			<textField>
				<reportElement x="474" y="0" width="80" height="12" uuid="6b713664-7e14-470b-817e-114b62f12fc2"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Pag. "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="555" y="0" width="15" height="12" uuid="bb3d53dd-52de-441b-8f18-2279ef0c01e7"/>
				<textElement textAlignment="Left">
					<font fontName="SansSerif" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEE, d MMM yyyy HH:mm:ss">
				<reportElement x="431" y="12" width="139" height="12" uuid="e1425944-7e58-40bd-8d33-418fa9ddc808"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="0" y="0" width="72" height="42" uuid="badb8959-f8da-4109-a197-4fe402e5e4a3"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<textField>
				<reportElement x="77" y="-2" width="159" height="14" uuid="68fc90ba-2f75-4f0d-b92d-9142efaf6ecc"/>
				<textElement>
					<font fontName="SansSerif" size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{empresa}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="Column header" x="77" y="10" width="190" height="14" forecolor="#000000" uuid="fe0dcb59-670e-41bc-8ce4-9fe8d186d05f"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Pares revisados por control de calidad del:]]></text>
			</staticText>
			<textField>
				<reportElement x="265" y="12" width="53" height="12" uuid="09dabf38-a773-4e0c-af3f-c41963220cb9"/>
				<textElement textAlignment="Center">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{fechaIni}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="Column header" x="321" y="12" width="21" height="12" forecolor="#000000" uuid="24c11623-7193-4e1b-8ace-b35d266de804"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Al:]]></text>
			</staticText>
			<textField>
				<reportElement x="345" y="12" width="52" height="12" uuid="0701e8d5-2edf-4ba3-b885-cf9479937f08"/>
				<textElement textAlignment="Center">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{fechaFin}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="133" y="46" width="103" height="12" uuid="4fce2b09-1103-46bd-b696-6187fb3a13ef"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Control]]></text>
			</staticText>
			<staticText>
				<reportElement x="236" y="46" width="34" height="12" uuid="a57fa6cd-29b9-4998-bf8f-e1a38d8b6e68"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Pares]]></text>
			</staticText>
			<line>
				<reportElement x="133" y="57" width="224" height="1" uuid="2428ce78-7862-4e4a-af84-4cdafe682e64"/>
				<graphicElement>
					<pen lineWidth="1.5"/>
				</graphicElement>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="12" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="133" y="11" width="224" height="1" uuid="9c27175e-eeaf-4784-a04e-2bdb9e6f6f58"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement x="133" y="0" width="103" height="11" uuid="700ced94-6cdf-46fc-8dcb-407eed2ce999"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Control}]]></textFieldExpression>
			</textField>
			<textField pattern="###0">
				<reportElement x="237" y="0" width="33" height="11" uuid="0809e7eb-7783-4175-9798-3720f55396b9"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Pares}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="14" splitType="Stretch">
			<staticText>
				<reportElement style="Column header" x="114" y="1" width="106" height="12" forecolor="#000000" uuid="bf4b6b79-8bad-420e-a7ba-97568b08664a"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total general:]]></text>
			</staticText>
			<line>
				<reportElement x="114" y="0" width="243" height="1" uuid="277bb294-e74f-4298-8ce3-f97c247295db"/>
			</line>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement mode="Transparent" x="237" y="1" width="33" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="e9ea1d6a-16f8-40d8-af1c-3c224dadb26c"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="SansSerif" size="8" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Pares_2}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
